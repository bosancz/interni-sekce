<bo-page-header backUrl="/" title="Přehled akcí" [actions]="actions"></bo-page-header>

<bo-page-content>
  <bo-filter (change)="loadEvents($event)">
    <ion-item>
      <ion-label>Rok</ion-label>
      <ion-select name="year" ngModel>
        <ion-select-option [value]="null">všechny</ion-select-option>
        <ion-select-option *ngFor="let year of years" [value]="year">{{ year }}</ion-select-option>
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label>Stav</ion-label>
      <ion-select name="status" ngModel>
        <ion-select-option [value]="null">všechny</ion-select-option>
        <ion-select-option *ngFor="let status of statuses | keyvalue" [value]="status.key">
          {{ status.value.name }}
        </ion-select-option>
      </ion-select>
    </ion-item>
  </bo-filter>

  <ion-list>
    <ng-container *ngIf="events === undefined">
      <ion-item><ion-skeleton-text animated></ion-skeleton-text></ion-item>
      <ion-item><ion-skeleton-text animated></ion-skeleton-text></ion-item>
      <ion-item><ion-skeleton-text animated></ion-skeleton-text></ion-item>
      <ion-item><ion-skeleton-text animated></ion-skeleton-text></ion-item>
      <ion-item><ion-skeleton-text animated></ion-skeleton-text></ion-item>
    </ng-container>

    <ion-item *ngFor="let event of events" [routerLink]="'' + event.id">
      <ion-label>
        <h3>{{ event.name }}</h3>
        <p>
          {{ event.dateFrom | date : "EEEEEE d. M." }} - {{ event.dateTill | date : "EEEEEE d. M. y" }}
          <br />
          <ng-container *ngFor="let leader of event.leaders; let isFirst = first">
            <ng-container *ngIf="!isFirst">, </ng-container>
            <span [style.color]="leader.groupId | group : 'color'">{{ leader | member : "nickname" }}</span>
          </ng-container>
          <strong *ngIf="!event.leaders?.length" class="text-danger">Pan NIKDO</strong>
        </p>
      </ion-label>

      <bo-event-status-badge [event]="event"></bo-event-status-badge>
    </ion-item>
  </ion-list>

  <!-- <td>
          
        </td>
        <td>
          
        </td>
      </tr> -->
</bo-page-content>
