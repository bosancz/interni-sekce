<bo-page-header [title]="event?.name" [actions]="actions" backUrl="/akce"></bo-page-header>

<bo-page-content [padding]="true" [ngSwitch]="view">
  <ng-container *ngIf="!event">
    <h1><ion-skeleton-text></ion-skeleton-text></h1>
    <p><ion-skeleton-text></ion-skeleton-text></p>
  </ng-container>

  <ng-container *ngIf="event">
    <div class="row">
      <div class="order-last order-lg-first col-12 col-lg-8">
        <h3 class="mt-4">Účastníci</h3>
        <div class="attendees">
          <ion-chip
            *ngFor="let attendee of event.attendees"
            [style.background-color]="attendee.member?.groupId | group : 'color'"
            [routerLink]="['/databaze', attendee.memberId]"
          >
            {{ attendee.member | member : "nickname" }}
          </ion-chip>
          <p *ngIf="!event.attendees?.length">Účastníci zatím chybí</p>
        </div>

        <!-- <h3 class="mt-4">Report</h3>
        <div *ngIf="event.report" [innerHTML]="event.report"></div>
        <p *ngIf="!event.report">Report zatím chybí</p> -->

        <h3 class="mt-4">Účtování</h3>
        <bo-event-expenses-chart *ngIf="event.expenses?.length" [event]="event"></bo-event-expenses-chart>
        <p *ngIf="!event.expenses?.length">Účtování zatím chybí</p>

        <h3 class="mt-4">Fotogalerie</h3>
        <bo-photo-gallery *ngIf="eventAlbum" [photos]="eventAlbum.photos || []"></bo-photo-gallery>
        <p *ngIf="!eventAlbum">Fotky zatím chybí</p>
      </div>

      <div class="order-first order-lg-last col-12 col-lg-4 mb-4 mb-lg-0">
        <event-card [event]="event" [actions]="false"></event-card>
      </div>
    </div>
  </ng-container>
</bo-page-content>
