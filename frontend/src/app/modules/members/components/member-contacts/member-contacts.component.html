<h4>Kontakty</h4>

@for (contact of contacts; track $index) {
  <bo-card class="contact mb-3">
    <bo-card-title>
      {{ contact.title }}
      <ion-buttons slot="end">
        <ion-button (click)="openContactForm(contact)" color="secondary" fill="clear"> Upravit </ion-button>
        <ion-button (click)="deleteContact(contact)" color="danger" fill="clear"> Smazat </ion-button>
      </ion-buttons>
    </bo-card-title>

    <bo-card-content>
      <ion-list lines="none">
        @if (contact.mobile) {
          <ion-item [button]="true" [detail]="false">
            <ion-icon name="call-outline" slot="start"></ion-icon>
            <ion-label>{{ contact.mobile }}</ion-label>
            <ion-button [href]="'tel:' + contact.mobile" color="primary" fill="clear">
              <ion-icon name="call-outline" slot="icon-only"></ion-icon>
            </ion-button>
            <bo-copy-button [text]="contact.mobile"></bo-copy-button>
          </ion-item>
        }
        @if (contact.email) {
          <ion-item [button]="true" [detail]="false">
            <ion-icon name="mail-outline" slot="start"></ion-icon>
            <ion-label>{{ contact.email }}</ion-label>
            <ion-button [href]="'mailto:' + contact.email" color="primary" fill="clear">
              <ion-icon name="mail-outline" slot="icon-only"></ion-icon>
            </ion-button>
            <bo-copy-button [text]="contact.email"></bo-copy-button>
          </ion-item>
        }
        @if (contact.other) {
          <ion-item [button]="true" [detail]="false">
            <ion-label>{{ contact.other }}</ion-label>
            <bo-copy-button [text]="contact.other"></bo-copy-button>
          </ion-item>
        }
      </ion-list>
    </bo-card-content>
  </bo-card>
}

@if (member === undefined) {
  <bo-card class="contact mb-3">
    <bo-card-title><ion-skeleton-text [animated]="true"></ion-skeleton-text></bo-card-title>
    <bo-card-content>
      <ion-list lines="none">
        <ion-item>
          <ion-icon name="call-outline" slot="start"></ion-icon>
          <ion-label><ion-skeleton-text [animated]="true"></ion-skeleton-text></ion-label>
        </ion-item>
      </ion-list>
    </bo-card-content>
  </bo-card>
}

<ion-buttons class="mt-3 justify-content-center">
  <bo-add-button (click)="openContactForm(null)">PÅ™idat kontakt</bo-add-button>
</ion-buttons>

<h4 class="mt-4">Adresa</h4>
<bo-card class="address">
  <bo-card-content>
    <ion-list *ngIf="member" class="selectable" lines="none">
      <ion-item [button]="true" [detail]="false">
        <ion-label *ngIf="member">{{ getFullAddress(member) }}</ion-label>
        <ion-buttons slot="end">
          <bo-copy-button [text]="getFullAddress(member)"></bo-copy-button>
          <bo-edit-button></bo-edit-button>
        </ion-buttons>
      </ion-item>
    </ion-list>
  </bo-card-content>
</bo-card>
