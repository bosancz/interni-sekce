<h4 class="ion-padding">Kontakty</h4>

@for (contact of contacts; track $index) {
  <ion-card>
    <ion-card-header>
      <ion-card-title>{{ contact.title }}</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-list lines="none">
        @if (contact.mobile) {
          <ion-item>
            <ion-icon name="call-outline" slot="start"></ion-icon>
            <ion-label>{{ contact.mobile }}</ion-label>
            <ion-button [href]="'tel:' + contact.mobile" color="primary" fill="clear">
              <ion-icon name="call-outline" slot="icon-only"></ion-icon>
            </ion-button>
            <ion-button (click)="copyContact(contact.mobile)" color="secondary" fill="clear">
              <ion-icon name="copy-outline" slot="icon-only"></ion-icon>
            </ion-button>
          </ion-item>
        }
        @if (contact.email) {
          <ion-item>
            <ion-icon name="mail-outline" slot="start"></ion-icon>
            <ion-label>{{ contact.email }}</ion-label>
            <ion-button [href]="'mailto:' + contact.email" color="primary" fill="clear">
              <ion-icon name="mail-outline" slot="icon-only"></ion-icon>
            </ion-button>
            <ion-button (click)="copyContact(contact.email)" color="secondary" fill="clear">
              <ion-icon name="copy-outline" slot="icon-only"></ion-icon>
            </ion-button>
          </ion-item>
        }
        @if (contact.other) {
          <ion-item>
            <ion-label>{{ contact.other }}</ion-label>
            <ion-button (click)="copyContact(contact.other)" color="secondary" fill="clear">
              <ion-icon name="copy-outline" slot="icon-only"></ion-icon>
            </ion-button>
          </ion-item>
        }
      </ion-list>
    </ion-card-content>

    <ion-button (click)="openContactForm(contact)" color="secondary" fill="clear"> Upravit </ion-button>
    <ion-button (click)="deleteContact(contact)" color="danger" fill="clear"> Smazat </ion-button>
  </ion-card>
}

@if (member === undefined) {
  <ion-card>
    <ion-card-header>
      <ion-card-title><ion-skeleton-text [animated]="true"></ion-skeleton-text></ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-list lines="none">
        <ion-item>
          <ion-icon name="call-outline" slot="start"></ion-icon>
          <ion-label><ion-skeleton-text [animated]="true"></ion-skeleton-text></ion-label>
        </ion-item>
      </ion-list>
    </ion-card-content>
  </ion-card>
}

<ion-buttons class="mt-3 justify-content-center">
  <ion-button (click)="openContactForm(null)">
    <ion-icon name="add-circle-outline" slot="start"></ion-icon>
    p≈ôidat kontakt
  </ion-button>
</ion-buttons>
